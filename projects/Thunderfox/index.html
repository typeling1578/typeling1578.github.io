<html>
    <head>
        <title>Thunderfox Browser</title>
        <link rel="icon" type="image/svg+xml" href="images/logo.svg">
        <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1">
        <link rel="stylesheet" href="main.css">
        <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    </head>
    <body>
        <header id="header">
            <h1 class="title">Thunderfox</h1>
        </header>
        <div id="content">
            <div class="panel">
                <div class="content">
                    <h1 style="font-size: 3rem"><img src="images/logo.svg" style="width: 1.2em;vertical-align: bottom;">Thunderfox</h1>
                    <h3>A Simple, highly customizable, and free web browser</h3>
                    <h4>Beta version available!</h4>
                    <a href="javascript:download()" class="primary-button">Download</a>
                    <img src="">
                </div>
            </div>
            <div id="safety">
                <h2>Safety</h2>
                <div class="content">
                    Completely open source.
                    <br>
                    No shady privacy policies, no trackers, no ads!
                    <br>
                    <br>
                    Builds are done via GitHub Actions, so anyone can check the content!
                </div>
            </div>
            <br>
            <div id="features" class="tile">
                <h2>Features</h2>
                <div class="content">
                    <!--
                    <div class="feature">
                        <h3><img class="white-icon" src="notifications_active.svg"><img class="dark-icon" src="notifications_active_dark.svg"> Sound a notification tone!</h3>
                        <div class="description">Want to sound a notification? Thunderfox can do it!</div>
                    </div>
                    -->
                    <div class="feature">
                        <h3><img class="white-icon" src="images/movie.svg"><img class="dark-icon" src="images/movie_dark.svg"> Matroska Video supported!</h3>
                        <div class="description">Want to play Matroska format videos? Thunderfox supports it!</div>
                        <br>
                        <img style="width: 100%;border-radius: 8px;" src="images/mkv-supported.webp"></img>
                    </div>
                    <!--
                    <div class="feature">
                        <h3><img class="white-icon" src="extension.svg"><img class="dark-icon" src="extension_dark.svg"> Legacy-addons & userChrome.js supported!</h3>
                        <div class="description">Want to use legacy add-ons or userChrome.js? They're available in Thunderfox!</div>
                    </div>
                    -->
                    <div class="feature">
                        <h3><img class="white-icon" src="images/code.svg"><img class="dark-icon" src="images/code_dark.svg"> experiment_apis & theme_experiment available! (Allow per add-on or theme)</h3>
                        <br>
                        <img style="width: 100%;border-radius: 8px;" src="images/experimental-apis.webp"></img>
                    </div>
                    <div class="feature">
                        <h3><img class="white-icon" src="images/code.svg"><img class="dark-icon" src="images/code_dark.svg"> userChrome.css separated by directory</h3>
                        <br>
                        <img style="width: 100%;border-radius: 8px;" src="images/userChromeCSS.webp"></img>
                    </div>
                </div>
            </div>
            <br>
            <div id="dedicated-addons" class="tile">
                <h2>Dedicated add-ons</h2>
                <div class="content">
                    <div class="dedicated-addon">
                        <h3><img class="white-icon" src="images/extension.svg"><img class="dark-icon" src="images/extension_dark.svg"> NewTab Background Image</h3>
                        <div class="description">This add-on displays a beautiful background on new tabs.</div>
                        <br>
                        <img style="width: 100%;border-radius: 8px;" src="images/newtab-background-image.webp"></img>
                    </div>
                    <div class="dedicated-addon">
                        <h3><img class="white-icon" src="images/extension.svg"><img class="dark-icon" src="images/extension_dark.svg"> Search by Image</h3>
                        <div class="description">Search Google Lens for Image</div>
                        <br>
                        <img style="width: 100%;border-radius: 8px;" src="images/search-by-image.webp"></img>
                    </div>
                </div>
            </div>
            <br><br>
            <footer>
                <a href="privacy_policy.html">Privacy Policy</a>
                <br>
                <a href="https://github.com/typeling1578/Thunderfox">Source Code</a>
                <br>
                <br>
                <small>&copy; 2022 typeling1578</small>
            </footer>
            <br><br>
        </div>
        <div id="download-popup" style="display: none">
            <h2>Download</h2>
            Platform: <select class="download-select">
                <option value="">--Please choose a platform--</option>
                <option value="windows-64">Windows 64bit</option>
                <!--<option value="windows-arm64">Windows ARM64</option>-->
                <option value="linux-64">Linux 64bit</option>
                <option value="linux-arm64">Linux ARM64</option>-
                <!--<option value="android-arm64-v8a">Android ARM64</option>-->
                <!--<option value="mac-universal">Mac</option>-->
            </select>
            <br>
            <br>
            <a href="javascript:void(0)" class="download-button-popup primary-button">Download</a>
        </div>
        <script>
            function download() {
                let ua = navigator.userAgent;
                let initial_value;
                if (ua.toLowerCase().match("windows") !== null) {
                    initial_value = "windows-64";
                } else if (ua.toLowerCase().match("linux") !== null && ua.toLowerCase().match("android") === null) {
                    if (ua.toLowerCase().match("x86_64")) {
                        initial_value = "linux-64";
                    } else if (ua.toLowerCase().match("aarch64")) {
                        initial_value = "linux-arm64";
                    } else {
                        initial_value = "linux-64";
                    }
                } else {
                    initial_value = "";
                }
                document.querySelector("#download-popup").style.display = "block";
                document.querySelector(".download-select").value = initial_value;
            }
            document.querySelector(".download-button-popup").addEventListener("click", function(e){
                e.preventDefault();
                let selected = document.querySelector(".download-select").value;
                switch (selected) {
                    case "windows-64":
                        location.href = "https://thunderfox.page.link/download_beta_win_x86_64";
                        document.querySelector("#download-popup").style.display = "none";
                        break;
                    case "linux-64":
                        location.href = "https://thunderfox.page.link/download_beta_linux_x86_64";
                        document.querySelector("#download-popup").style.display = "none";
                        break;
                    case "linux-arm64":
                        location.href = "https://thunderfox.page.link/download_beta_linux_aarch64";
                        document.querySelector("#download-popup").style.display = "none";
                        break;
                    default:
                        alert("Please choose a platform");
                        break;
                }
            })
        </script>
    </body>
</html>
